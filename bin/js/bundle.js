(function () {
'use strict';

var element = document.querySelector('#content');

var pointerlockchange = function pointerlockchange() {

  if (document.pointerLockElement === element || document.mozPointerLockElement === element || document.webkitPointerLockElement === element) {
    controls.enabled = true;
  } else {
    controls.enabled = false;
  }
};

document.addEventListener('pointerlockchange', pointerlockchange, false);
document.addEventListener('mozpointerlockchange', pointerlockchange, false);
document.addEventListener('webkitpointerlockchange', pointerlockchange, false);

element.addEventListener('click', function () {

  element.requestPointerLock = element.requestPointerLock || element.mozRequestPointerLock || element.webkitRequestPointerLock;

  if (/Firefox/i.test(navigator.userAgent)) {

    var fullscreenchange = function fullscreenchange() {

      if (document.fullscreenElement === element || document.mozFullscreenElement === element || document.mozFullScreenElement === element) {

        document.removeEventListener('fullscreenchange', fullscreenchange);
        document.removeEventListener('mozfullscreenchange', fullscreenchange);
        element.requestPointerLock();
      }
    };

    document.addEventListener('fullscreenchange', fullscreenchange, false);
    document.addEventListener('mozfullscreenchange', fullscreenchange, false);
  } else {

    element.requestPointerLock();
  }
}, false);

var camera;
var controls;
var renderer;
var scene;
var stats;

var init = function init() {

  var textureLoader = new THREE.CubeTextureLoader();
  textureLoader.setPath('assets/textures/');

  var skyCube = textureLoader.load(['sky_px.png', 'sky_nx.png', 'sky_py.png', 'sky_ny.png', 'sky_pz.png', 'sky_nz.png']);

  scene = new THREE.Scene();
  scene.background = skyCube;

  scene.add(new THREE.AxisHelper(1000));

  camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000);
  camera.position.set(0, 400, 1200);
  camera.lookAt(0, 0, 0);

  controls = new THREE.PointerLockControls(camera);
  scene.add(controls.getObject());

  var ambient = new THREE.AmbientLight(0x444444);
  scene.add(ambient);

  var directionalLight = new THREE.DirectionalLight(0xffeedd);
  directionalLight.position.set(1, 1, 0).normalize();
  scene.add(directionalLight);

  var mtlLoader = new THREE.MTLLoader();
  mtlLoader.setPath('assets/models/');
  mtlLoader.load('ship.mtl', function (materials) {

    materials.preload();

    var objLoader = new THREE.OBJLoader();

    objLoader.setMaterials(materials);
    objLoader.setPath('assets/models/');

    objLoader.load('ship.obj', function (ship) {

      ship.scale.set(40, 40, 40);
      ship.position.set(20, -120, 50);
      ship.rotation.y = -Math.PI / 2;
      scene.add(ship);
    });
  });

  renderer = new THREE.WebGLRenderer();
  renderer.setSize(window.innerWidth, window.innerHeight);

  stats = new Stats();

  element.appendChild(renderer.domElement);
  element.appendChild(stats.dom);
};

var render = function render() {

  renderer.render(scene, camera);
  stats.update();
  window.requestAnimationFrame(render);
};

init();
render();

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250ZW50Jyk7XG5cbnZhciBwb2ludGVybG9ja2NoYW5nZSA9ICgpID0+IHtcblxuICBpZiAoZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50ID09PSBlbGVtZW50IHx8XG4gICAgICBkb2N1bWVudC5tb3pQb2ludGVyTG9ja0VsZW1lbnQgPT09IGVsZW1lbnQgfHxcbiAgICAgIGRvY3VtZW50LndlYmtpdFBvaW50ZXJMb2NrRWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgIGNvbnRyb2xzLmVuYWJsZWQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNvbnRyb2xzLmVuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG59O1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybG9ja2NoYW5nZScsIHBvaW50ZXJsb2NrY2hhbmdlLCBmYWxzZSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3pwb2ludGVybG9ja2NoYW5nZScsIHBvaW50ZXJsb2NrY2hhbmdlLCBmYWxzZSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRwb2ludGVybG9ja2NoYW5nZScsIHBvaW50ZXJsb2NrY2hhbmdlLCBmYWxzZSk7XG5cbmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgZWxlbWVudC5yZXF1ZXN0UG9pbnRlckxvY2sgPSBlbGVtZW50LnJlcXVlc3RQb2ludGVyTG9jayB8fCBlbGVtZW50Lm1velJlcXVlc3RQb2ludGVyTG9jayB8fCBlbGVtZW50LndlYmtpdFJlcXVlc3RQb2ludGVyTG9jaztcblxuICBpZiAoL0ZpcmVmb3gvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cbiAgICB2YXIgZnVsbHNjcmVlbmNoYW5nZSA9ICgpID0+IHtcblxuICAgICAgaWYgKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50ID09PSBlbGVtZW50IHx8XG4gICAgICAgICAgZG9jdW1lbnQubW96RnVsbHNjcmVlbkVsZW1lbnQgPT09IGVsZW1lbnQgfHxcbiAgICAgICAgICBkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudCA9PT0gZWxlbWVudCkge1xuXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBmdWxsc2NyZWVuY2hhbmdlKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW96ZnVsbHNjcmVlbmNoYW5nZScsIGZ1bGxzY3JlZW5jaGFuZ2UpO1xuICAgICAgICBlbGVtZW50LnJlcXVlc3RQb2ludGVyTG9jaygpO1xuXG4gICAgICB9XG5cbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIGZ1bGxzY3JlZW5jaGFuZ2UsIGZhbHNlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3pmdWxsc2NyZWVuY2hhbmdlJywgZnVsbHNjcmVlbmNoYW5nZSwgZmFsc2UpO1xuXG4gIH0gZWxzZSB7XG5cbiAgICBlbGVtZW50LnJlcXVlc3RQb2ludGVyTG9jaygpO1xuXG4gIH1cblxufSwgZmFsc2UpO1xuXG52YXIgY2FtZXJhLCBjb250cm9scywgcmVuZGVyZXIsIHNjZW5lLCBzdGF0cztcblxubGV0IGluaXQgPSAoKSA9PiB7XG5cbiAgbGV0IHRleHR1cmVMb2FkZXIgPSBuZXcgVEhSRUUuQ3ViZVRleHR1cmVMb2FkZXIoKTtcbiAgdGV4dHVyZUxvYWRlci5zZXRQYXRoKCdhc3NldHMvdGV4dHVyZXMvJyk7XG5cbiAgbGV0IHNreUN1YmUgPSB0ZXh0dXJlTG9hZGVyLmxvYWQoW1xuICAgICdza3lfcHgucG5nJywgJ3NreV9ueC5wbmcnLFxuICAgICdza3lfcHkucG5nJywgJ3NreV9ueS5wbmcnLFxuICAgICdza3lfcHoucG5nJywgJ3NreV9uei5wbmcnXG4gIF0pO1xuXG4gIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gIHNjZW5lLmJhY2tncm91bmQgPSBza3lDdWJlO1xuXG4gIHNjZW5lLmFkZChuZXcgVEhSRUUuQXhpc0hlbHBlcigxMDAwKSk7XG5cbiAgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDc1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwMCk7XG4gIGNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgNDAwLCAxMjAwKTtcbiAgY2FtZXJhLmxvb2tBdCgwLCAwLCAwKTtcblxuICBjb250cm9scyA9IG5ldyBUSFJFRS5Qb2ludGVyTG9ja0NvbnRyb2xzKGNhbWVyYSk7XG4gIHNjZW5lLmFkZChjb250cm9scy5nZXRPYmplY3QoKSk7XG5cbiAgbGV0IGFtYmllbnQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4NDQ0NDQ0KTtcbiAgc2NlbmUuYWRkKGFtYmllbnQpO1xuXG4gIGxldCBkaXJlY3Rpb25hbExpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmVlZGQpO1xuICBkaXJlY3Rpb25hbExpZ2h0LnBvc2l0aW9uLnNldCgxLCAxLCAwKS5ub3JtYWxpemUoKTtcbiAgc2NlbmUuYWRkKGRpcmVjdGlvbmFsTGlnaHQpO1xuXG4gIGxldCBtdGxMb2FkZXIgPSBuZXcgVEhSRUUuTVRMTG9hZGVyKCk7XG4gIG10bExvYWRlci5zZXRQYXRoKCdhc3NldHMvbW9kZWxzLycpO1xuICBtdGxMb2FkZXIubG9hZCgnc2hpcC5tdGwnLCAobWF0ZXJpYWxzKSA9PiB7XG5cbiAgICBtYXRlcmlhbHMucHJlbG9hZCgpO1xuXG4gICAgbGV0IG9iakxvYWRlciA9IG5ldyBUSFJFRS5PQkpMb2FkZXIoKTtcblxuICAgIG9iakxvYWRlci5zZXRNYXRlcmlhbHMobWF0ZXJpYWxzKTtcbiAgICBvYmpMb2FkZXIuc2V0UGF0aCgnYXNzZXRzL21vZGVscy8nKTtcblxuICAgIG9iakxvYWRlci5sb2FkKCdzaGlwLm9iaicsIChzaGlwKSA9PiB7XG5cbiAgICAgIHNoaXAuc2NhbGUuc2V0KDQwLCA0MCwgNDApO1xuICAgICAgc2hpcC5wb3NpdGlvbi5zZXQoMjAsIC0xMjAsIDUwKTtcbiAgICAgIHNoaXAucm90YXRpb24ueSA9IC1NYXRoLlBJIC8gMjtcbiAgICAgIHNjZW5lLmFkZChzaGlwKTtcblxuICAgIH0pO1xuXG4gIH0pO1xuXG4gIHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcblxuICBzdGF0cyA9IG5ldyBTdGF0cygpO1xuXG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQoc3RhdHMuZG9tKTtcblxufTtcblxubGV0IHJlbmRlciA9ICgpID0+IHtcblxuICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gIHN0YXRzLnVwZGF0ZSgpO1xuICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG5cbn07XG5cbmluaXQoKTtcbnJlbmRlcigpO1xuIl0sIm5hbWVzIjpbImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwb2ludGVybG9ja2NoYW5nZSIsInBvaW50ZXJMb2NrRWxlbWVudCIsIm1velBvaW50ZXJMb2NrRWxlbWVudCIsIndlYmtpdFBvaW50ZXJMb2NrRWxlbWVudCIsImVuYWJsZWQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVxdWVzdFBvaW50ZXJMb2NrIiwibW96UmVxdWVzdFBvaW50ZXJMb2NrIiwid2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImZ1bGxzY3JlZW5jaGFuZ2UiLCJmdWxsc2NyZWVuRWxlbWVudCIsIm1vekZ1bGxzY3JlZW5FbGVtZW50IiwibW96RnVsbFNjcmVlbkVsZW1lbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FtZXJhIiwiY29udHJvbHMiLCJyZW5kZXJlciIsInNjZW5lIiwic3RhdHMiLCJpbml0IiwidGV4dHVyZUxvYWRlciIsIlRIUkVFIiwiQ3ViZVRleHR1cmVMb2FkZXIiLCJzZXRQYXRoIiwic2t5Q3ViZSIsImxvYWQiLCJTY2VuZSIsImJhY2tncm91bmQiLCJhZGQiLCJBeGlzSGVscGVyIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJwb3NpdGlvbiIsInNldCIsImxvb2tBdCIsIlBvaW50ZXJMb2NrQ29udHJvbHMiLCJnZXRPYmplY3QiLCJhbWJpZW50IiwiQW1iaWVudExpZ2h0IiwiZGlyZWN0aW9uYWxMaWdodCIsIkRpcmVjdGlvbmFsTGlnaHQiLCJub3JtYWxpemUiLCJtdGxMb2FkZXIiLCJNVExMb2FkZXIiLCJtYXRlcmlhbHMiLCJwcmVsb2FkIiwib2JqTG9hZGVyIiwiT0JKTG9hZGVyIiwic2V0TWF0ZXJpYWxzIiwic2hpcCIsInNjYWxlIiwicm90YXRpb24iLCJ5IiwiTWF0aCIsIlBJIiwiV2ViR0xSZW5kZXJlciIsInNldFNpemUiLCJTdGF0cyIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsImRvbSIsInJlbmRlciIsInVwZGF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSJdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsSUFBSUEsVUFBVUMsU0FBU0MsYUFBVCxDQUF1QixVQUF2QixDQUFkOztBQUVBLElBQUlDLG9CQUFvQixTQUFwQkEsaUJBQW9CLEdBQU07O01BRXhCRixTQUFTRyxrQkFBVCxLQUFnQ0osT0FBaEMsSUFDQUMsU0FBU0kscUJBQVQsS0FBbUNMLE9BRG5DLElBRUFDLFNBQVNLLHdCQUFULEtBQXNDTixPQUYxQyxFQUVtRDthQUN4Q08sT0FBVCxHQUFtQixJQUFuQjtHQUhGLE1BSU87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
